# Terminal 1 (PX4 SITL + Gazebo)
cd ~/px4_ros_ws3/PX4-Autopilot
HEADLESS=1 PX4_GZ_WORLD=forest PX4_GZ_MODEL_POSE="0,0,3,0,0,0" make px4_sitl gz_x500_oak_tfluna_d500




gz sim -g



# Terminal 2 (ROS viz bridge + RViz)
cd ~/px4_ros_ws3
source /opt/ros/humble/setup.bash
source install/setup.bash
ros2 launch px4_sensor_viz_bringup sitl_oak_lidar_viz.launch.py world:=forest



#OR


cd ~/px4_ros_ws3
# 1. Source the bridge you just spent 35 minutes building
source ~/bridge_ws/install/setup.bash

# 2. Source your PX4 workspace again (this overlays it on the bridge)
source ~/px4_ros_ws3/install/setup.bash

# 3. Try the launch again
ros2 launch px4_sensor_viz_bringup sitl_oak_lidar_viz.launch.py world:=forest


# Terminal 3 (PX4 <-> ROS bridge agent, required for WASD)
MicroXRCEAgent udp4 -p 8888

# Terminal 4 (WASD teleop node)
cd ~/px4_ros_ws3
source /opt/ros/humble/setup.bash
source install/setup.bash
ros2 run px4_ros_com wasd_teleop.py






rm -rf build/px4_ros_com install/px4_ros_com && source /opt/ros/humble/setup.bash && colcon build --packages-select px4_ros_com
